import{j as d,r as Q}from"./index-Df7fr5hj.js";import{U as ue}from"./index-PWfmmTC8.js";import{u as le,P as de,a as he,F as A,q as D,A as M,d as K,c as P,g as z,b as X,w as R,h as fe,e as ee,L as _,f as pe,i as me,r as ge,j as ye,k as xe,B as be,I as ve,l as Le,C as Ce}from"./Button-O6gWt_GM.js";import{r as h}from"./index-D4H_InIO.js";import{h as k,u as we,M as te,a as U,S as Ee,b as Fe,c as Se,d as ke,e as De,L as Me,K as O,g as Ke}from"./Link-BAySQPqa.js";import"./index-Dd8bRu6S.js";import"./iframe-DQs5llOP.js";const Te=e=>{let r=e;const t=new Set;return{subscribe:n=>{t.add(n)},unsubscribe:n=>{t.delete(n)},getStore:()=>r,setStore:n=>(typeof n=="function"?r=n(r):r=n,t.forEach(s=>s(r)),r)}};function re(e,r=n=>n,t=(n,s)=>!Array.isArray(n)||!Array.isArray(s)?n===s:n.length!==s.length?!1:n.every((o,i)=>o===s[i])){const[n,s]=h.useState(()=>r(e.getStore()));return h.useEffect(()=>{const o=i=>{s(l=>{const a=r(i);return t(l,a)?l:a})};return e.subscribe(o),()=>{e.unsubscribe(o)}},[]),[n,e.setStore]}const Ie=65280,Ne=255,Ae=/\+{2,}/gi,ze=/\s+/gi,je=/^\s*?(?:(?:^-?|\s|\+)(?:alt|option|cmd|command|meta|ctrl|control|shift|cmdorctrl|commandorcontrol|backspace|capslock|del|delete|down|end|enter|return|esc|escape|home|insert|left|pagedown|pageup|right|space|spacebar|tab|up|plus|\d|[a-z]|f(?:\d|1\d|2[0-4])|numpad\d|[!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-]))+\s*$/i,S={HANDLED:0,UNHANDLED:1,UNHANDLEABLE:2},L={isArray:e=>Array.isArray(e),isEqual:(e,r)=>{if(e.length!==r.length)return!1;for(let t=0,n=e.length;t<n;t++)if(e[t]!==r[t])return!1;return!0},isFalsy:e=>!e,isKeyboardEvent:e=>e.type.startsWith("key"),isMac:()=>typeof navigator!="object"?!1:/mac|ipod|iphone|ipad/i.test(navigator.platform),isTruthy:e=>!!e,memoize:e=>{const r=new Map;return t=>{const n=r.get(t);if(n||r.has(t))return n;const s=e(t);return r.set(t,s),s}}},F={alt:256,option:256,cmd:512,command:512,meta:512,ctrl:1024,control:1024,shift:2048,cmdorctrl:L.isMac()?512:1024,commandorcontrol:L.isMac()?512:1024,backspace:1,capslock:2,del:3,delete:3,down:4,end:5,enter:6,return:6,esc:7,escape:7,home:8,insert:9,left:10,pagedown:11,pageup:12,right:13,space:14,spacebar:14,tab:15,up:16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,a:27,b:28,c:29,d:30,e:31,f:32,g:33,h:34,i:35,j:36,k:37,l:38,m:39,n:40,o:41,p:42,q:43,r:44,s:45,t:46,u:47,v:48,w:49,x:50,y:51,z:52,"!":53,'"':54,"#":55,$:56,"%":57,"&":58,"'":59,"(":60,")":61,"*":62,"+":63,plus:63,",":64,"-":65,".":66,"/":67,":":68,";":69,"<":70,"=":71,">":72,"?":73,"@":74,"[":75,"\\":76,"]":77,"^":78,_:79,"`":80,"{":81,"|":82,"}":83,"~":84,f1:85,f2:86,f3:87,f4:88,f5:89,f6:90,f7:91,f8:92,f9:93,f10:94,f11:95,f12:96,f13:97,f14:98,f15:99,f16:100,f17:101,f18:102,f19:103,f20:104,f21:105,f22:106,f23:107,f24:108,numpad0:109,numpad1:110,numpad2:111,numpad3:112,numpad4:113,numpad5:114,numpad6:115,numpad7:116,numpad8:117,numpad9:118},$e={18:256,91:512,92:512,93:512,224:512,17:1024,16:2048,8:1,20:2,46:3,40:4,35:5,13:6,27:7,36:8,45:9,37:10,34:11,33:12,39:13,32:14,9:15,38:16,222:59,188:64,189:65,190:66,191:67,186:69,187:71,219:75,220:76,221:77,192:80,112:85,113:86,114:87,115:88,116:89,117:90,118:91,119:92,120:93,121:94,122:95,123:96,124:97,125:98,126:99,127:100,128:101,129:102,130:103,131:104,132:105,133:106,134:107,135:108,96:109,97:110,98:111,99:112,100:113,101:114,102:115,103:116,104:117,105:118},Pe={256:"Alt",512:"Cmd",1024:"Ctrl",2048:"Shift",1:"Backspace",2:"Capslock",3:"Delete",4:"Down",5:"End",6:"Enter",7:"Escape",8:"Home",9:"Insert",10:"Left",11:"PageDown",12:"PageUp",13:"Right",14:"Space",15:"Tab",16:"Up",17:"0",18:"1",19:"2",20:"3",21:"4",22:"5",23:"6",24:"7",25:"8",26:"9",27:"A",28:"B",29:"C",30:"D",31:"E",32:"F",33:"G",34:"H",35:"I",36:"J",37:"K",38:"L",39:"M",40:"N",41:"O",42:"P",43:"Q",44:"R",45:"S",46:"T",47:"U",48:"V",49:"W",50:"X",51:"Y",52:"Z",53:"!",54:'"',55:"#",56:"$",57:"%",58:"&",59:"'",60:"(",61:")",62:"*",63:"Plus",64:",",65:"-",66:".",67:"/",68:":",69:";",70:"<",71:"=",72:">",73:"?",74:"@",75:"[",76:"\\",77:"]",78:"^",79:"_",80:"`",81:"{",82:"|",83:"}",84:"~",85:"F1",86:"F2",87:"F3",88:"F4",89:"F5",90:"F6",91:"F7",92:"F8",93:"F9",94:"F10",95:"F11",96:"F12",97:"F13",98:"F14",99:"F15",100:"F16",101:"F17",102:"F18",103:"F19",104:"F20",105:"F21",106:"F22",107:"F23",108:"F24",109:"Numpad0",110:"Numpad1",111:"Numpad2",112:"Numpad3",113:"Numpad4",114:"Numpad5",115:"Numpad6",116:"Numpad7",117:"Numpad8",118:"Numpad9"},Re={256:"Alt",512:"Cmd",1024:"Ctrl",2048:"Shift",1:"Backspace",2:"Capslock",3:"Delete",4:"Down",5:"End",6:"Enter",7:"Escape",8:"Home",9:"Insert",10:"Left",11:"PageDown",12:"PageUp",13:"Right",14:"Space",15:"Tab",16:"Up",17:"0",18:"1",19:"2",20:"3",21:"4",22:"5",23:"6",24:"7",25:"8",26:"9",27:"A",28:"B",29:"C",30:"D",31:"E",32:"F",33:"G",34:"H",35:"I",36:"J",37:"K",38:"L",39:"M",40:"N",41:"O",42:"P",43:"Q",44:"R",45:"S",46:"T",47:"U",48:"V",49:"W",50:"X",51:"Y",52:"Z",53:"!",54:'"',55:"#",56:"$",57:"%",58:"&",59:"'",60:"(",61:")",62:"*",63:"Plus",64:",",65:"-",66:".",67:"/",68:":",69:";",70:"<",71:"=",72:">",73:"?",74:"@",75:"[",76:"\\",77:"]",78:"^",79:"_",80:"`",81:"{",82:"|",83:"}",84:"~",85:"F1",86:"F2",87:"F3",88:"F4",89:"F5",90:"F6",91:"F7",92:"F8",93:"F9",94:"F10",95:"F11",96:"F12",97:"F13",98:"F14",99:"F15",100:"F16",101:"F17",102:"F18",103:"F19",104:"F20",105:"F21",106:"F22",107:"F23",108:"F24",109:"num0",110:"num1",111:"num2",112:"num3",113:"num4",114:"num5",115:"num6",116:"num7",117:"num8",118:"num9"},He={256:"⌥",512:"⌘",1024:"⌃",2048:"⇧",1:"⌫",2:"⇪",3:"⌦",4:"↓",5:"↘",6:"⏎",7:"⎋",8:"↖",9:"⎀",10:"←",11:"⇟",12:"⇞",13:"→",14:"␣",15:"⇥",16:"↑",17:"0",18:"1",19:"2",20:"3",21:"4",22:"5",23:"6",24:"7",25:"8",26:"9",27:"A",28:"B",29:"C",30:"D",31:"E",32:"F",33:"G",34:"H",35:"I",36:"J",37:"K",38:"L",39:"M",40:"N",41:"O",42:"P",43:"Q",44:"R",45:"S",46:"T",47:"U",48:"V",49:"W",50:"X",51:"Y",52:"Z",53:"!",54:'"',55:"#",56:"$",57:"%",58:"&",59:"'",60:"(",61:")",62:"*",63:"+",64:",",65:"-",66:".",67:"/",68:":",69:";",70:"<",71:"=",72:">",73:"?",74:"@",75:"[",76:"\\",77:"]",78:"^",79:"_",80:"`",81:"{",82:"|",83:"}",84:"~",85:"F1",86:"F2",87:"F3",88:"F4",89:"F5",90:"F6",91:"F7",92:"F8",93:"F9",94:"F10",95:"F11",96:"F12",97:"F13",98:"F14",99:"F15",100:"F16",101:"F17",102:"F18",103:"F19",104:"F20",105:"F21",106:"F22",107:"F23",108:"F24",109:"Numpad0",110:"Numpad1",111:"Numpad2",112:"Numpad3",113:"Numpad4",114:"Numpad5",115:"Numpad6",116:"Numpad7",117:"Numpad8",118:"Numpad9"},m={getModifierKey:e=>e&Ie,hasModifierKey:e=>!!m.getModifierKey(e),getTriggerKey:e=>e&Ne,hasTriggerKey:e=>!!m.getTriggerKey(e),event2id:e=>{let r=0;if(L.isKeyboardEvent(e)){const t=e.type==="keypress",n=e.which||e.keyCode||0,s=String.fromCharCode(n).toLowerCase(),o=e.key;r=t?F[o]||F[s]||0:$e[n]||F[s]||F[o]||0}return e.ctrlKey&&(r|=F.ctrl),e.altKey&&(r|=F.alt),e.shiftKey&&(r|=F.shift),e.metaKey&&(r|=F.cmd),r},event2shortcut:e=>m.id2shortcut([m.event2id(e)]),event2accelerator:e=>m.id2accelerator([m.event2id(e)]),event2symbols:e=>m.id2symbols([m.event2id(e)]),chord2id:L.memoize(e=>e.replace(Ae,"+Plus").toLowerCase().split("+").reduce((t,n)=>t|(F[n]||0),0)),chord2accelerator:e=>m.id2accelerator([m.chord2id(e)]),chord2symbols:e=>m.id2symbols([m.chord2id(e)]),isValidShortcut:e=>je.test(e),checkValidShortcut:e=>{const r=m.isValidShortcut(e);return r||console.error(`Invalid shortcut: "${e}"`),r},shortcut2id:L.memoize(e=>e.trim().split(ze).map(m.chord2id)),shortcut2accelerator:L.memoize(e=>m.id2accelerator(m.shortcut2id(e))),shortcut2symbols:L.memoize(e=>m.id2symbols(m.shortcut2id(e))),isValidID:e=>e.every(L.isTruthy),checkValidID:e=>{const r=m.isValidID(e);return r||console.error(`Invalid shortcut: "${m.id2accelerator(e)}"`),r},id2output:(e,r,t,n)=>{const{ctrl:s,alt:o,shift:i,cmd:l}=F;return e.map(a=>{const u=[];a&s&&u.push(r[s]),a&o&&u.push(r[o]),a&i&&u.push(r[i]),a&l&&u.push(r[l]);const f=m.getTriggerKey(a);return f&&u.push(r[f]||String.fromCharCode(f).toUpperCase()),u.join(t)}).join(n)},id2shortcut:e=>m.id2output(e,Pe,"+"," "),id2accelerator:e=>m.id2output(e,Re,"+"," "),id2symbols:e=>m.id2output(e,He,""," ")};class Be{constructor(r){this.lastKeydownID=-1,this.currentKeydownShortcutID=[],this.currentKeypressShortcutID=[],this.currentKeyupShortcutID=[],this.resetNextKeydownShortcutID=!1,this.triggeredNextKeypress=!0,this.ignoreNextKeypress=!1,this.listening=!1,this.on=()=>{this.listening||(this.listening=!0,this.target.addEventListener("keydown",this.handler,{capture:this.capture}),this.target.addEventListener("keypress",this.handler,{capture:this.capture}),this.target.addEventListener("keyup",this.handler,{capture:this.capture}))},this.off=()=>{this.listening&&(this.listening=!1,this.target.removeEventListener("keydown",this.handler,{capture:this.capture}),this.target.removeEventListener("keypress",this.handler,{capture:this.capture}),this.target.removeEventListener("keyup",this.handler,{capture:this.capture}))},this.isListening=()=>this.listening,this.handler=t=>{if(!L.isKeyboardEvent(t)||!this.shouldHandleEvent(t))return;const{type:n}=t,s=n==="keydown",o=n==="keypress",i=n==="keyup";if(s&&(this.ignoreNextKeypress=!1),o&&this.ignoreNextKeypress){this.triggeredNextKeypress=!0;return}const l=m.event2id(t),a=m.getTriggerKey(l);if(s&&(this.lastKeydownID=l),i&&(a||l!==this.lastKeydownID)){this.currentKeyupShortcutID.length=0;return}if(!i&&!a)return;const u=s?this.currentKeydownShortcutID:i?this.currentKeyupShortcutID:this.currentKeypressShortcutID;if(s&&!this.resetNextKeydownShortcutID&&!this.triggeredNextKeypress&&this.currentKeypressShortcutID.push(this.currentKeydownShortcutID[this.currentKeydownShortcutID.length-1]),s&&this.resetNextKeydownShortcutID&&(u.length=0,this.resetNextKeydownShortcutID=!1),u.push(l),o&&L.isEqual(this.currentKeydownShortcutID,u)){this.resetNextKeydownShortcutID&&(this.currentKeypressShortcutID.length=0),this.triggeredNextKeypress=!0;return}const f=this.options.handler(u,t);f===S.HANDLED?(this.resetNextKeydownShortcutID=!0,this.currentKeypressShortcutID.length=0,this.currentKeyupShortcutID.length=0):f===S.UNHANDLEABLE?s?this.resetNextKeydownShortcutID=!0:o?this.currentKeypressShortcutID.length=0:i&&(this.currentKeyupShortcutID.length=0):typeof f=="object"&&u.splice(0,1/0,...f),i||(this.ignoreNextKeypress=s&&f===S.HANDLED,this.triggeredNextKeypress=o)},this.options=r,this.capture=!!r.capture,this.target=r.target||document,this.shouldHandleEvent=r.shouldHandleEvent||(t=>!t.defaultPrevented)}}class _e{constructor(r={}){this.descriptors=[],this.shortcuts={size:0,handlers:[]},this._updateListener=()=>{const t=!!this.shortcuts.size;t!==this.listener.isListening()&&(t?this.listener.on():this.listener.off())},this.handler=(t,n)=>{if(this.recordHandler)return this.recordHandler(m.id2accelerator(t)),S.UNHANDLED;let s=!1,o=-1;e:for(let i=0,l=t.length;i<l;i++){let a=this.shortcuts;for(let f=i;f<l;f++)if(a=a[t[f]],!a){if(!s&&i===l-1)return S.UNHANDLEABLE;continue e}s=!0,o===-1&&(o=i);const{handlers:u}=a;for(let f=0,c=u.length;f<c;f++)if(u[f](n)===!0)return n&&(n.preventDefault(),n.stopPropagation()),S.HANDLED}return o>0?t.slice(o):S.UNHANDLED},this.get=()=>this.descriptors,this.add=t=>{if(!L.isArray(t))return this.add([t]);t.forEach(n=>{const{shortcut:s,handler:o}=n;if(s[0]==="-")return this.remove([{shortcut:s,handler:o}]);if(!o)return console.error(`Can't add shortcut "${s}" which has no handler`);const i=m.shortcut2id(s);this.descriptors.push(n);const l=i.length-1;i.reduce((a,u,f)=>(a[u]||(a.size++,a[u]={parent:a,id:u,size:0,handlers:[]}),f===l&&a[u].handlers.unshift(o),a[u]),this.shortcuts)}),this._updateListener()},this.register=t=>(this.add(t),()=>{this.remove(t)}),this.remove=t=>{if(!L.isArray(t))return this.remove([t]);t.forEach(n=>{let{shortcut:s,handler:o}=n;s[0]==="-"&&(s=s.slice(1));const i=m.shortcut2id(s);this.descriptors=this.descriptors.filter(a=>a.shortcut!==s&&!L.isEqual(m.shortcut2id(a.shortcut),i)||o&&a.handler!==o);const l=i.length-1;i.reduce((a,u,f)=>{const c=a[u];if(!c)return{};if(f===l){o?c.handlers=c.handlers.filter(b=>b!==o):c.handlers.length=0;let p=c;for(;!p.size&&!p.handlers.length&&p.parent&&p.id;)delete p.parent[p.id],p.parent.size--,p=p.parent}return c},this.shortcuts)}),this._updateListener()},this.reset=()=>{this.descriptors=[],this.shortcuts={size:0,handlers:[]},this._updateListener()},this.record=t=>(this.recordHandler=t,()=>{delete this.recordHandler}),this.trigger=t=>{const n=typeof t=="string"?m.shortcut2id(t):t;return this.handler(n)===S.HANDLED},this.listener=new Be({capture:r.capture,handler:this.handler,target:r.target,shouldHandleEvent:r.shouldHandleEvent}),this.reset(),r.shortcuts&&this.add(r.shortcuts)}}const H=Te({}),V=(e,r)=>{const[t]=re(H,n=>n[e]);return le("shortcut",n=>{n.detail.actionId===e&&r(n)},{dependencies:[e,r]}),{binding:t?m.shortcut2accelerator(t.keyBinding):void 0}},Z=h.createContext({push:()=>{},initialized:!1}),Ue=({children:e})=>{const[r,t]=h.useState({}),n=h.useCallback((i,l)=>r[l]===i,[r]),s=h.useCallback((i,l)=>{t(a=>({...a,[l]:i}))},[]),o=h.useMemo(()=>({checkActive:n,setActive:s,popovers:r}),[n,s,r]);return d.jsx(de.Provider,{value:o,children:e})},Oe="budicon",Ve="times",Ze=()=>d.jsx("path",{d:"m12.511 13.925-.18.18-6.987 6.96-.377.375-.198.197-.21.21-.045.045-.06.06L3 20.625l.026-.027 8.061-8.097-.619-.618L8.464 9.88l-.814-.81-.262-.263-.76-.758-.71-.71-.44-.44-.61-.608-.366-.366-.17-.17-.458-.458-.472-.472-.401-.4.054-.055 1.298-1.315L4.407 3l.006.007.227.226.175.175.345.345.136.136.822.82.19.191.62.618.922.922.755.754 1.353 1.352.567.566.288.288.878.876.296.296.512.511.013-.012.587-.59 7.138-7.171.15-.15.056-.056.096-.097.007-.007L22 4.473l-.06.06-.045.045-.129.127-.279.279-.377.375-7.18 7.153.443.443 1.46 1.46.568.566.279.279 1.074 1.073.257.257.498.497.24.24.683.682.214.214.405.404.71.71.438.437.125.126.395.394.174.173.06.06h-.001l-.052.057L20.595 22l-.16-.16-1.341-1.34-.562-.561-.203-.203-.652-.65-.71-.71-.759-.758-.263-.263-.813-.812-.844-.844-.867-.866-.293-.293-.617-.615Z"}),We="0 0 25 25",Ye=Object.freeze(Object.defineProperty({__proto__:null,Component:Ze,name:Ve,set:Oe,viewBox:We},Symbol.toStringTag,{value:"Module"})),Je=(...e)=>{H.setStore(r=>{let t=r;return e.forEach(({id:n,defaultKeyBinding:s})=>{k(r,n)||(t={...t,[n]:{defaultKeyBinding:s,keyBinding:s}})}),t})},W=(e,r)=>{var n;const t=new CustomEvent("shortcut",{bubbles:!0,detail:{actionId:e}});(n=r.target)==null||n.dispatchEvent(t)},Ge=({children:e,target:r,bindings:t={}})=>{const n=h.useRef(),[s,o]=re(H,i=>Object.entries(i).map(([l,a])=>({action:l,shortcut:a.keyBinding})));return h.useEffect(()=>{o(i=>{let l=i;return Object.entries(t).forEach(([a,u])=>{l={...l,[a]:{...l[a],keyBinding:u}}}),l})},[JSON.stringify(t)]),h.useEffect(()=>(n.current=new _e({target:r,shouldHandleEvent:i=>i.type==="keydown"&&!i.defaultPrevented&&!(i.target instanceof HTMLElement&&["input","textarea"].includes(i.target.nodeName.toLowerCase())&&(i.code.startsWith("Key")||i.code.startsWith("Digit")||i.code.startsWith("Numpad"))&&!["Control","Meta"].some(l=>i.getModifierState(l))),shortcuts:s.map(({action:i,shortcut:l})=>({shortcut:l,handler:a=>{a.preventDefault(),W(i,a)}}))}),()=>{var i;(i=n.current)==null||i.reset(),n.current=void 0}),[r]),he(()=>{const i=n.current;i&&(i.reset(),i.add(s.map(({action:l,shortcut:a})=>({shortcut:a,handler:u=>{u.preventDefault(),W(l,u)}}))))},[JSON.stringify(s)]),d.jsx(d.Fragment,{children:e})},se=D.div(({theme:e})=>M`
    position: fixed;
    z-index: ${e.base["z-index"].modal};
    bottom: 0;
    right: 0;
    pointer-events: none;
    width: 100%;
  `);se.defaultProps=K;const qe=h.forwardRef(function(r,t){return d.jsx(A,{container:{justify:"end",alignItems:"end",gap:2,pad:[0,2]},as:se,...r,ref:t})}),Qe=(e,r)=>{switch(r.action){case"create":return[...e,r.modal];case"unmount":return e.filter(t=>t.id!==r.modal.id);case"dismiss":return e.map(t=>(t.state=t.id===r.modal.id?"closed":t.state,t));case"update":return e.map(t=>(t.props=t.id===r.modal.id?{...t.props,...r.modal.props}:t.props,t));case"activate":{const t=e.map(s=>(s.state=s.id===r.modal.id?"open":s.state,s)),n=t.splice(t.findIndex(s=>s.id===r.modal.id),1);return[...t,...n]}case"minimize":return e.map(t=>(t.state=t.id===r.modal.id&&t.options.minimizable?"minimized":t.state,t));case"maximize":return e.map(t=>(t.state=t.id===r.modal.id&&t.options.maximizable?"maximized":t.state,t));case"dock":return e.map(t=>(t.state=t.id===r.modal.id&&t.options.dockable?"docked":"minimized",t));default:return e}},j=h.memo(({Component:e,id:r,options:{alert:t,dismissible:n,dockable:s,moveable:o,minimizable:i,maximizable:l},state:a,methods:u,props:f,top:c})=>d.jsx(te.Provider,{value:{id:r,alert:t,dismissible:n,minimizable:i,maximizable:l,dockable:s,moveable:o,state:a,top:c,initialized:!0,...u},children:d.jsx(e,{...f})})),Xe=({modals:e})=>{const{open:r,minimized:t,alerts:n}=e.reduce((s,o)=>(o.options.alert?s.alerts.push(o):o.state==="minimized"||o.state==="docked"?s.minimized.push(o):s.open.push(o),s),{open:[],minimized:[],alerts:[]});return d.jsxs(d.Fragment,{children:[r.map((s,o)=>h.createElement(j,{...s,top:n.length===0&&o===r.length-1,key:s.id})),t.length>0&&d.jsx(qe,{children:t.map(s=>h.createElement(j,{...s,top:!1,key:s.id}))}),n.map((s,o)=>h.createElement(j,{...s,top:o===r.length-1,key:s.id}))]})},et=({children:e})=>{const[r,t]=h.useReducer(Qe,[]),{disableScroll:n,enableScroll:s}=we(),o=h.useMemo(()=>({create:(u,f,c)=>{const p=(c==null?void 0:c.id)||P(),b=z(),y=b?new WeakRef(b):null,C={dismiss:()=>{var T;t({action:"dismiss",modal:{id:p}}),(T=c==null?void 0:c.onDismiss)==null||T.call(c,p);const g=y==null?void 0:y.deref(),E=z();g!=null&&g.isConnected&&(g instanceof HTMLElement||g instanceof SVGElement)&&E!==null&&(E.closest('[aria-modal="true"]')!==null||E===document.body)&&g.focus()},update:g=>{t({action:"update",modal:{id:p,props:g}})},minimize:()=>{var g;t({action:"minimize",modal:{id:p}}),(g=c==null?void 0:c.onMinimize)==null||g.call(c,p)},maximize:()=>{var g;t({action:"maximize",modal:{id:p}}),(g=c==null?void 0:c.onMaximize)==null||g.call(c,p)},dock:()=>{var g;t({action:"dock",modal:{id:p}}),(g=c==null?void 0:c.onDock)==null||g.call(c,p)},activate:()=>{var g;t({action:"activate",modal:{id:p}}),(g=c==null?void 0:c.onActivate)==null||g.call(c,p)},unmount:()=>{t({action:"unmount",modal:{id:p}})}};let v;return c!=null&&c.defaultMinimized?v="minimized":c!=null&&c.dockable?v="docked":v="open",t({action:"create",modal:{id:p,methods:C,Component:u,props:f,state:v,options:{alert:!1,minimizable:!1,maximizable:!1,dockable:!1,moveable:!1,defaultMinimized:!1,unmountWhenMinimized:!0,...c,dismissible:!!(!(c!=null&&c.alert)&&((c==null?void 0:c.dismissible)??!0))}}}),C},ModalContext:te,initialized:!0}),[]);h.useEffect(()=>{r.some(u=>["open","closed","maximized"].includes(u.state))?n():s()},[r]);const{portalTarget:i}=X(),l=R?window.cosmos.modalManagerContext??U:U,a=h.useContext(l);return a.initialized?d.jsx(l.Provider,{value:a,children:e}):d.jsxs(l.Provider,{value:o,children:[e,r.length>0&&i&&Q.createPortal(d.jsx(Xe,{modals:r}),i)]})},Y=D.div`
  ${fe}
  -webkit-user-select: none;
  user-select: none;
`,tt=(e,r)=>{switch(r.type){case"announce":{const n=r.payload.message,s=r.payload.type;if(["alert","error","exception"].includes(s)||!e.suppressedTypes.includes(s)){const i=P();return r.payload.level==="assertive"?{...e,assertiveMessages:[...e.assertiveMessages,{message:n,id:i}]}:{...e,politeMessages:[...e.politeMessages,{message:n,id:i}]}}return e}case"setMaxLength":return{...e,maxLength:r.payload>0?r.payload:50};case"trimLength":{const n=e.politeMessages.length>e.maxLength,s=e.assertiveMessages.length>e.maxLength;return{...e,politeMessages:n?[...e.politeMessages.slice(-e.maxLength)]:e.politeMessages,assertiveMessages:s?[...e.assertiveMessages.slice(-e.maxLength)]:e.assertiveMessages}}default:return e}},rt=({children:e,maxLength:r=50})=>{const t=ee(),[n,s]=h.useReducer(tt,{maxLength:r,politeMessages:[],assertiveMessages:[],suppressedTypes:[]});h.useEffect(()=>{const a=setTimeout(()=>{s({type:"trimLength"})},1e3);return()=>{clearTimeout(a)}},[n.assertiveMessages,n.politeMessages,n.maxLength]),h.useEffect(()=>{s({type:"setMaxLength",payload:r})},[r]);const o=h.useMemo(()=>({announce:({message:a,type:u="info",assertive:f=!1})=>{s({type:"announce",payload:{message:a,type:u,level:f?"assertive":"polite"}})},announcePolite:({message:a,type:u="info"})=>{s({type:"announce",payload:{message:a,type:u,level:"polite"}})},announceAssertive:({message:a,type:u="info"})=>{s({type:"announce",payload:{message:a,type:u,level:"assertive"}})},initialized:!0}),[]),i=R?window.cosmos.liveLogContext??_:_,l=h.useContext(i);return l.initialized?d.jsx(i.Provider,{value:l,children:e}):d.jsxs(i.Provider,{value:o,children:[e,d.jsxs(Y,{role:"log","aria-relevant":"additions",children:[d.jsx("h6",{children:t("polite_announcements")}),n.politeMessages.map(({message:a,id:u})=>d.jsx("p",{children:a},u))]}),d.jsxs(Y,{role:"log","aria-live":"assertive","aria-relevant":"additions",children:[d.jsx("h6",{children:t("assertive_announcements")}),n.assertiveMessages.map(({message:a,id:u})=>d.jsx("p",{children:a},u))]})]})},ne=pe("toaster",["toast"]);ge(Ye);Je({id:"JumpToToast",defaultKeyBinding:"Alt+Enter"},{id:"DismissToast",defaultKeyBinding:"Alt+Q"});const ie=D.button(({theme:e})=>M`
    border: none;
    color: inherit;
    padding: 0;
    font-size: 1rem;
    margin-block: calc(${e.base.spacing} / 2);
    margin-inline-end: calc(${e.base.spacing} / 2);

    &:enabled:hover {
      background: #ffffff19;
    }

    &:enabled:focus {
      box-shadow: ${e.base.shadow.focus};
    }
  `);ie.defaultProps=K;const ae=D.div(({theme:e})=>M`
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: clip;
    text-overflow: ellipsis;
    font-size: ${e.base["font-size"]};
    margin-inline-start: calc(${e.base["border-radius"]} / 2);
    padding-inline-start: calc(${e.base.spacing} / 2);

    ${Ee} {
      color: ${e.base.colors.blue.light};
    }
  `);ae.defaultProps=K;const oe=D.div(({theme:e})=>M`
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    width: 100%;
    background: ${e.base.colors.slate["extra-dark"]};
    color: ${e.base.colors.white};
    border-radius: calc(${e.base["border-radius"]} / 2);
    opacity: var(--opacity);
    transform: translateY(var(--translateY)) scale(var(--scale));
    transition-property: transform, opacity;
    transition-duration: ${e.base.animation.speed};
    transition-timing-function: ${e.base.animation.timing.ease};
    font-weight: ${e.base["font-weight"]["semi-bold"]};

    :focus {
      box-shadow: ${e.base.shadow.focus};
    }

    ${Fe} {
      color: ${e.base.palette.light};
      background-color: ${e.base.colors.gray.dark};
      border-color: ${e.base.colors.gray.medium};
      inset-block-start: unset;
    }
  `);oe.defaultProps=K;const ce=D.div(({theme:e})=>M`
    position: fixed;
    z-index: ${e.base["z-index"].toast};
    width: min(40ch, calc(100% - 1rem));
    inset-inline-start: 50%;
    transform: translateX(-50%);
    top: 100%;
  `);ce.defaultProps=K;function st(e,r){switch(r.type){case"push":return[...e,{...r.payload}];case"unmount":return e.filter(t=>t.id!==r.payload);default:return e}}const J=h.forwardRef(function({id:r,firstToast:t,dispatch:n,topLevelDismiss:s,translateY:o,onDismiss:i,dismissAfter:l,...a},u){const[f,c]=h.useState(!1),p=h.useRef(NaN),b=ee(),{macintosh:y}=Se(),{announcePolite:C}=ye(),v=k(a,"href")?b("created"):a.content,g=h.useRef(null),E=xe(u);h.useEffect(()=>{const x=k(a,"href")?`${v} ${r} ${a.label}`:v,w=b("keypress_instruction",[y?"Option + Enter":"Alt + Enter",b("shortcut_JumpToToast")]),N=b("keypress_instruction",[y?"Option + Q":"Alt + Q",b("shortcut_DismissToast")]);C({message:`${x}. ${w}. ${N}.`,type:"acknowledgement"})},[]);const T=x=>{f&&x.propertyName==="opacity"&&x.target===x.currentTarget&&n({type:"unmount",payload:r})},I=x=>()=>{var w,N;g.current&&((N=(w=g.current)==null?void 0:w.focus)==null||N.call(w),g.current=null),clearTimeout(p.current),!f&&(c(!0),i==null||i({id:r,timeout:x}),s==null||s({id:r,timeout:x}))},B=()=>{Number.isFinite(l)&&(p.current=window.setTimeout(I(!0),l))};return h.useEffect(()=>(B(),()=>{window.clearTimeout(p.current)}),[]),V("JumpToToast",()=>{var w;const x=z();x&&x!==document.body&&(g.current=x),t&&E.current&&((w=Ke(E.current)[0])==null||w.focus())}),V("DismissToast",()=>{t&&I(!1)()}),ke(()=>{var w;const x=z();(w=E.current)!=null&&w.contains(x)&&I(!1)()}),De([E],x=>{x?window.clearTimeout(p.current):B()}),d.jsxs(A,{...a,"data-app-region":!0,container:{alignItems:"center",gap:.25},as:oe,ref:E,style:{"--translateY":`${-o}px`,"--opacity":f?"0":"1","--scale":f?"0":"1"},onTransitionEnd:T,children:[d.jsxs(A,{item:{grow:1},as:ae,children:[v,k(a,"href")?d.jsxs(d.Fragment,{children:[" ",d.jsxs(Me,{href:a.href,children:["(",r,"): ",a.label]})]}):void 0]}),d.jsxs(A,{container:{inline:!0,justify:"end",gap:.5},children:[d.jsx(O,{keyName:"Alt"}),d.jsx(O,{keyName:"Enter"})]}),d.jsx(be,{as:ie,variant:"simple",onClick:I(!1),icon:!0,"aria-label":b("dismiss_label"),children:d.jsx(ve,{name:"times"})})]})}),nt=({testId:e,children:r,dismissAfter:t=1/0,onDismiss:n})=>{const{portalTarget:s}=X(),[o,i]=h.useReducer(st,[]),[l,a]=h.useState([]),u=h.useRef({}),f=Le(e,ne);h.useLayoutEffect(()=>{const y=[...o].reverse().map(({id:C})=>u.current[C]);a(y.map((C,v)=>y.slice(0,v+1).reduce((g,E)=>g+E+4,0)).reverse())},[o.length]);const c=h.useMemo(()=>({push(y){const C={...y,id:y.id??P(),dismissAfter:k(y,"href")?1e4:y.dismissAfter};i({type:"push",payload:C})},initialized:!0}),[]),p=R?window.cosmos.toasterContext??Z:Z,b=h.useContext(p);return b.initialized?d.jsx(p.Provider,{value:b,children:r}):d.jsxs(d.Fragment,{children:[d.jsx(p.Provider,{value:c,children:r}),!!o.length&&s&&Q.createPortal(d.jsx(ce,{"data-testid":f.root,children:o.map((y,C)=>{const v={translateY:l[C]??0,firstToast:C===0,topLevelDismiss:n,dispatch:i,ref:g=>{g?u.current[y.id]=g.offsetHeight:delete u.current[y.id]}};return k(y,"href")?h.createElement(J,{"data-testid":f.toast,...y,...v,key:y.id}):h.createElement(J,{"data-testid":f.toast,...y,...v,dismissAfter:y.dismissAfter??t,key:y.id})})}),s)]})},it=me(nt,ne),at="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='0%200%20311%2068'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3c!--%20Generator:%20Sketch%2046.1%20(44463)%20-%20http://www.bohemiancoding.com/sketch%20--%3e%3ctitle%3eLogo%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Symbols'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Logo'%3e%3cg%20id='pega_logo_horizontal_positive_rgb'%3e%3cpath%20d='M136.36,17.098%20L136.173,17.009%20C136.154,16.998%20133.96,16.01%20132.245,17.815%20L132.026,18.046%20L135.539,19.768%20L136.36,17.098%20Z%20M152.441,36.389%20C152.441,36.389%20150.91,39.13%20150.224,40.143%20C149.535,41.164%20147.38,41.798%20145.517,40.908%20C144.665,40.503%20136.694,35.854%20133.644,36.12%20C118.205,37.466%20113.999,31.105%20113.503,30.527%20C113.005,29.949%20112.077,30.218%20112.74,31.355%20C116.127,37.163%20126.15,39.856%20126.15,39.856%20C128.771,46.172%20129.085,50.597%20129.085,50.597%20C126.489,48.574%20123.687,46.869%20120.714,45.453%20C112.768,40.121%20100.329,33.518%2083.207,29.379%20C84.191,15.797%2091.044,-3.837%20123.092,0.806%20C123.092,0.806%20129.522,1.86%20133.809,4.824%20C133.809,4.824%20132.779,5.904%20131.425,7.256%20C130.071,8.605%20131.569,9.471%20131.569,9.471%20L138.338,14.792%20C138.417,17.607%20138.533,18.396%20140.651,20.944%20C142.769,23.487%20151.004,32.112%20152.081,33.266%20C153.329,34.6%20152.441,36.389%20152.441,36.389%20Z%20M78.633,9.915%20C76.938,16.897%2077.068,23.049%2077.939,28.221%20C76.33,27.901%2074.697,27.594%2073.014,27.32%20C37.94,21.612%2027.361,38.899%2031.455,52.916%20C19.86,57.274%208.963,62.263%200.214,67.162%20C13.98,34.146%2043.896,5.087%2069.145,1.268%20C77.389,0.181%2079.708,5.529%2078.633,9.915%20L78.633,9.915%20Z'%20id='Fill-1'%20fill='%231F2555'%3e%3c/path%3e%3cpath%20d='M83.492,40.09%20C97.157,39.01%20110.054,40.381%20120.713,45.453%20C112.768,40.121%20100.329,33.518%2083.206,29.379%20C82.864,34.111%2083.23,38.107%2083.492,40.09%20Z%20M81.52,40.262%20C66.209,41.723%2048.105,46.663%2031.455,52.916%20C27.361,38.899%2037.941,21.612%2073.014,27.32%20C74.697,27.594%2076.33,27.901%2077.938,28.221%20C78.77,33.166%2080.276,37.228%2081.52,40.262%20L81.52,40.262%20Z'%20id='Fill-2'%20fill='%2300A6A7'%3e%3c/path%3e%3cpath%20d='M286.63,35.039%20L291.379,23.446%20L296.129,35.039%20L286.63,35.039%20Z%20M287.854,14%20L272.536,50%20L280.553,50%20L283.819,41.985%20L298.938,41.985%20L302.204,50%20L310.427,50%20L295.108,14%20L287.854,14%20Z%20M188.647,26.704%20C188.647,29.787%20186.335,32.153%20182.375,32.153%20L176.1,32.153%20L176.1,21.149%20L182.219,21.149%20C186.181,21.149%20188.647,23.052%20188.647,26.601%20L188.647,26.704%20Z%20M182.889,14%20L168.18,14%20L168.18,50%20L176.1,50%20L176.1,39.2%20L182.115,39.2%20C190.19,39.2%20196.673,34.878%20196.673,26.547%20L196.673,26.444%20C196.673,19.09%20191.48,14%20182.889,14%20Z%20M239.764,18.02%20C235.989,21.708%20234.075,26.376%20234.075,31.896%20C234.075,37.421%20235.953,42.054%20239.663,45.675%20C243.366,49.292%20248.022,51.123%20253.503,51.123%20C259.992,51.123%20265.064,49.159%20268.587,45.284%20L268.769,45.08%20L268.769,28.556%20L253.112,28.556%20L253.112,35.244%20L261.279,35.244%20L261.279,41.993%20C259.164,43.252%20256.525,43.891%20253.429,43.891%20C250.221,43.891%20247.454,42.792%20245.203,40.62%20C242.958,38.458%20241.819,35.527%20241.819,31.926%20C241.819,28.322%20242.992,25.379%20245.304,23.18%20C247.624,20.972%20250.538,19.852%20253.966,19.852%20C255.769,19.852%20257.366,20.074%20258.711,20.512%20C259.973,20.922%20261.251,21.667%20262.517,22.712%20L266.897,17.183%20C264.586,15.147%20260.427,12.467%20253.503,12.467%20C248.162,12.467%20243.539,14.336%20239.764,18.02%20Z%20M210.336,35.604%20L225.842,35.604%20L225.842,28.556%20L210.336,28.556%20L210.336,21.042%20L229.623,21.042%20L229.623,14%20L202.466,14%20L202.466,50%20L229.879,50%20L229.879,42.955%20L210.336,42.955%20L210.336,35.604%20L210.336,35.604%20Z'%20id='Fill-3'%20fill='%231F2555'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ot="#005EA7",G="#0076D1",ct="#433254",$="#262626",q="#F0F0F0",ut=ue({base:"light",colorPrimary:G,colorSecondary:ct,appBg:"white",appContentBg:"white",appBorderColor:"#D6DBE1",appBorderRadius:4,fontBase:'"Open Sans", sans-serif',fontCode:"monospace",textColor:$,textInverseColor:q,barTextColor:$,barSelectedColor:G,barBg:q,inputBg:"white",inputBorder:ot,inputTextColor:$,inputBorderRadius:4,brandTitle:"Pega Component System",brandImage:at}),yt={parameters:{actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},docs:{source:{type:"code"},theme:ut}},decorators:[(e,r)=>d.jsx(Ce,{disableDefaultFontLoading:!0,id:"Preview",children:d.jsx(Ge,{children:d.jsx(rt,{maxLength:r.args.liveLogMaxLength||50,children:d.jsx(Ue,{children:d.jsx(it,{dismissAfter:5e3,children:d.jsx(et,{children:d.jsx(e,{...r})})})})})})})]};export{yt as default};
